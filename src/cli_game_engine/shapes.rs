pub mod shapes {
    use crate::cli_game_engine::types::types::Matrix4x4;
    
    #[derive(Debug)]
    #[derive(Clone, Copy)]
    pub struct Shape {
        positions: [Matrix4x4; 4],
        max_position: usize,
        pub current_position: usize,
    }
    
    impl Shape { 
        pub fn new_i() -> Self {
            Self {
                positions: [
                    [ 
                        [35, 35, 35, 35],
                        [32, 32, 32, 32],
                        [32, 32, 32, 32],
                        [32, 32, 32, 32],
                    ],
                    [
                        [35, 32, 32, 32],
                        [35, 32, 32, 32],
                        [35, 32, 32, 32],
                        [35, 32, 32, 32]
                    ],
                    [ 
                        [35, 35, 35, 35],
                        [32, 32, 32, 32],
                        [32, 32, 32, 32],
                        [32, 32, 32, 32],
                    ],
                    [
                        [35, 32, 32, 32],
                        [35, 32, 32, 32],
                        [35, 32, 32, 32],
                        [35, 32, 32, 32]
                    ]
                ],
                max_position: 1,
                current_position: 0,       
            }
        }

        pub fn new_o() -> Self {
            Self {
                positions: [
                    [
                        [32, 35, 35, 32],
                        [32, 35, 35, 32],
                        [32, 32, 32, 32],
                        [32, 32, 32, 32],
                    ],
                    [
                        [32, 35, 35, 32],
                        [32, 35, 35, 32],
                        [32, 32, 32, 32],
                        [32, 32, 32, 32],
                    ],
                    [
                        [32, 35, 35, 32],
                        [32, 35, 35, 32],
                        [32, 32, 32, 32],
                        [32, 32, 32, 32],
                    ],
                    [
                        [32, 35, 35, 32],
                        [32, 35, 35, 32],
                        [32, 32, 32, 32],
                        [32, 32, 32, 32],
                    ]
                ],
                max_position: 0,
                current_position: 0,       
            }
        }

        pub fn new_t() -> Self {
            Self {
                positions: [
                    [
                        [35, 35, 35, 32],
                        [32, 35, 32, 32],
                        [32, 32, 32, 32],
                        [32, 32, 32, 32],
                    ],
                    [
                        [35, 32, 32, 32],
                        [35, 35, 32, 32],
                        [35, 32, 32, 32],
                        [32, 32, 32, 32],
                    ],
                    [
                        [32, 35, 32, 32],
                        [35, 35, 35, 32],
                        [32, 32, 32, 32],
                        [32, 32, 32, 32],
                    ],
                    [
                        [32, 35, 32, 32],
                        [35, 35, 32, 32],
                        [32, 35, 32, 32],
                        [32, 32, 32, 32],
                    ],
                  
                ],
                max_position: 3,
                current_position: 0,       
            }
        }

        pub fn new_s() -> Self {
            Self {
                positions: [
                    [
                        [32, 35, 35, 32],
                        [35, 35, 32, 32],
                        [32, 32, 32, 32],
                        [32, 32, 32, 32],
                    ],
                    [
                        [35, 32, 32, 32],
                        [35, 35, 32, 32],
                        [32, 35, 32, 32],
                        [32, 32, 32, 32],
                    ],
                    [
                        [32, 35, 35, 32],
                        [35, 35, 32, 32],
                        [32, 32, 32, 32],
                        [32, 32, 32, 32],
                    ],
                    [
                        [35, 32, 32, 32],
                        [35, 35, 32, 32],
                        [32, 35, 32, 32],
                        [32, 32, 32, 32],
                    ],
                ],
                max_position: 1,
                current_position: 0,       
            }
        }

        pub fn new_z() -> Self {
            Self {
                positions: [
                    [
                        [35, 35, 32, 32],
                        [32, 35, 35, 32],
                        [32, 32, 32, 32],
                        [32, 32, 32, 32],
                    ],
                    [
                        [32, 35, 32, 32],
                        [35, 35, 32, 32],
                        [35, 32, 32, 32],
                        [32, 32, 32, 32],
                    ],
                    [
                        [35, 35, 32, 32],
                        [32, 35, 35, 32],
                        [32, 32, 32, 32],
                        [32, 32, 32, 32],
                    ],
                    [
                        [32, 35, 32, 32],
                        [35, 35, 32, 32],
                        [35, 32, 32, 32],
                        [32, 32, 32, 32],
                    ],
                ],
                max_position: 1,
                current_position: 0,       
            }
        }

        pub fn new_l() -> Self {
            Self {
                positions: [
                    [
                        [32, 32, 35, 32],
                        [35, 35, 35, 32],
                        [32, 32, 32, 32],
                        [32, 32, 32, 32],
                    ],
                    [
                        [35, 32, 32, 32],
                        [35, 32, 32, 32],
                        [35, 35, 32, 32],
                        [32, 32, 32, 32],
                    ],
                    [
                        [35, 35, 35, 32],
                        [35, 32, 32, 32],
                        [32, 32, 32, 32],
                        [32, 32, 32, 32],
                    ],
                    [
                        [35, 35, 32, 32],
                        [32, 35, 32, 32],
                        [32, 35, 32, 32],
                        [32, 32, 32, 32],
                    ],
                ],
                max_position: 3,
                current_position: 0,       
            }
        }

        pub fn new_j() -> Self {
            Self {
                positions: [
                    [
                        [35, 32, 32, 32],
                        [35, 35, 35, 32],
                        [32, 32, 32, 32],
                        [32, 32, 32, 32],
                    ],
                    [
                        [32, 35, 32, 32],
                        [32, 35, 32, 32],
                        [35, 35, 32, 32],
                        [32, 32, 32, 32],
                    ],
                    [
                        [35, 35, 35, 32],
                        [32, 32, 35, 32],
                        [32, 32, 32, 32],
                        [32, 32, 32, 32],
                    ],
                    [
                        [35, 35, 32, 32],
                        [35, 32, 32, 32],
                        [35, 32, 32, 32],
                        [32, 32, 32, 32],
                    ],
                ],
                max_position: 3,
                current_position: 0,       
            }
        }

        pub fn get_current_shape (&self) -> Matrix4x4 {
            self.positions[self.current_position]
        }
        
        pub fn rotate (& mut self) {

            if self.current_position < self.max_position {
                self.current_position += 1;
            } else {
                self.current_position = 0;
            }
        }
    }
}